<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>C2Serve - GET Example</title>

    <script type="text/javascript" src="Document.js"></script>
    <link rel="stylesheet" type="text/css" href="Basic.css"/>
      
</head>
<body onload="if (parent.adjustIFrameSize) parent.adjustIFrameSize(window);">

  <div>

   <div class="section" style="margin-top: 50px;">
    
      <h1>GET Example</h1>
    
      C2Serve provides base classes for the different REST methods.
      To create a GET method you derive from <code><i class="tn">C2SRestMethodPrototypeGET</i></code>.
      The class is declared as template.
      The template parameter defines the data type to stream the http entity to.
      If you leave the template parameter empty it is assumed that an http entity is not allowed.
      
      <h2>Defining Path and Path Parameters</h2>
      
      The constructor of <code><i class="tn">C2SRestMethodPrototypeGET</i></code> gets a string as argument.
      This string defines the path of the REST method relative from the context root of the REST resource:
      
      <div class="code">
        <code class="cpp">
        
          <i class="sw">#include</i> <i class="m">&quot;C2SRestMethodPrototypeGET.h&quot;</i><br />
          <br />
          <i class="sw">class</i> <i class="tn">SayHelloMethod</i> : <i class="sw">public</i> <i class="tn">C2SRestMethodPrototypeGET&lt;&gt;</i><br />
          {<br />
          <i class="sw">public:</i> <br />
          <br />
          &nbsp;&nbsp;<i class="fd">SayHelloMethod()</i> <br />
          &nbsp;&nbsp;&nbsp;&nbsp;: <i class="tn">C2SRestMethodPrototypeGET&lt;&gt;</i>( <i class="m">&quot;say-hello&quot;</i> ) <br />
          &nbsp;&nbsp;{ <br />
          &nbsp;&nbsp;}; <br />
          <br />
          };<br />
          <br />
        </code>
      </div>
      
      With REST it is possible to declare path segments as parameters.
      These parameters may describe a resource that should be processed by a REST method.
      A typical example would be reading an item from a data base which is identified by ID.
      <code><i class="tn">C2SRestMethodPrototypeGET</i></code> provides a method to define path parameters.
      In our example we want to add a string path parameter that defines the name to greet, so we add the following:
      
      <div class="code">
        <code class="cpp">
        
          <i class="sw">#include</i> <i class="m">&quot;C2SRestMethodPrototypeGET.h&quot;</i><br />
          <br />
          <i class="sw">class</i> <i class="tn">SayHelloMethod</i> : <i class="sw">public</i> <i class="tn">C2SRestMethodPrototypeGET&lt;&gt;</i><br />
          {<br />
          <i class="sw">public:</i> <br />
          <br />
          &nbsp;&nbsp;<i class="fd">SayHelloMethod()</i> <br />
          &nbsp;&nbsp;&nbsp;&nbsp;: <i class="tn">C2SRestMethodPrototypeGET&lt;&gt;</i>( <i class="m">&quot;say-hello/to&quot;</i> ) <br />
          &nbsp;&nbsp;{ <br />
          &nbsp;&nbsp;&nbsp;&nbsp;<i class="tn">C2SRestMethodPrototypeGET</i>&lt;<i class="tn">std</i>::<i class="tn">string</i>&gt;::addPathParameter( <i class="m">&quot;name&quot;</i> , &<i class="m">m_sNameToGreet</i> ); <br />
          &nbsp;&nbsp;}; <br />
          <br />
          <i class="sw">private:</i> <br />
          <br />
          &nbsp;&nbsp;<i class="tn">std</i>::<i class="tn">string</i> <i class="m">m_sNameToGreet</i>; <br />
          <br />
          };<br />
          <br />
        </code>
      </div>
      
      The path parameter must be declared as member of the REST resource.
      For each incoming request this parameter is overwritten with the actual value of the path segment.
      The name of the parameter is currently irrelevant. One day it will become part of the automatic API documentation.
      
      
    
   </div> 
  </div>

</body>
</html>